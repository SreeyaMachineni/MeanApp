<div class="h5 m-3"> {{greeting}} {{user.firstName|titlecase}}! Welcome to your dashboard..</div>

<!-- IF LOGGED IN AS USER -->
<div class="row m-0" *ngIf="user.userrole == 'user'">
  <div class="col-lg-4 col-md-6 col-sm-12 FixedHeightContainer m-3 mat-elevation-z8 modal-content">
    <div class="modal-header">
      <div class="h5">Your Active Claims</div>
    </div>
    <div class="modal-body Content">
      <div *ngFor="let claim of userClaims">
        <div class="row" *ngIf="userHasClaims">
          <div class="col-8 text-left h5">{{claim.packageName}}</div>
          <div class="col-4 text-right h5" appStatusCode [status]="claim.status" data-toggle="modal"
            data-target="#statusDetails" (click)="setClaim(claim)">{{claim.status}}</div>
        </div>
        <div class="row" *ngIf="userHasClaims">
          <div class="col-8 text-left">
            <div>Date of Surgery: {{claim.dateOfSurgery | date}}</div>
            <div>Purpose: {{claim.disease}}</div>
            <div class="pb-4">Hospital: {{claim.hospital}}</div>
          </div>
        </div>
      </div>
      <div class="row m-0" *ngIf="!userHasClaims">
        <div class="m-1">You donot have any active claims.<br>Please go to <b>My Claims</b> to add a package</div>
      </div>
    </div>
  </div>

  <div class="col-lg-4 col-md-6 col-sm-12 FixedHeightContainer m-3 mat-elevation-z8 modal-content">
    <div class="modal-header">
      <div class="h5">Your Current Packages</div>
    </div>
    <div class="modal-body Content">
      <div *ngFor="let package of userPackage">
        <div class="row" *ngIf="userHasPackages">
          <div class="col-12 text-left h5">{{package.packageName}}</div>
        </div>
        <div class="row" *ngIf="userHasPackages">
          <div class="col-12 text-left">
            <div style="font-size: 16px">Insurer: {{package.insurerName}}</div>
            <div style="font-size: 16px">Active From: {{package.activeFrom | date}}</div>
            <div class="pb-4" style="font-size: 16px">Active To: {{package.activeTo | date}} </div>
          </div>
        </div>
      </div>
      <div class="row m-0" *ngIf="!userHasPackages">
        <div class="m-1">You donot have any Packages added.<br>Please go to <b>My Packages</b> to add a
          package</div>
      </div>
    </div>
  </div>

  <div class="col-lg-3 col-md-6 col-sm-12 FixedHeightContainer m-3 mat-elevation-z8 modal-content">
    <div class="modal-header">
      <div class="h5">Notifications</div>
    </div>
    <div class="modal-body Content">
      <div class="mb-2" *ngFor="let notification of notifications" (click)="notificationDetails(notification)" appNotification
        [verified]="notification.verified">
        {{notification.comments}}
      </div>
      <div class="row m-0" *ngIf="!userHasNotifications">
        <div class="mt-1"> No new notifications</div>
      </div>
    </div>
  </div>
</div>

<!-- IF LOGGED IN AS EMPLOYEE -->
<div class="row m-0" *ngIf="user.userrole == 'employee'">
  <div class="col-lg-4 col-md-6 col-sm-12 FixedHeightContainer m-3 mat-elevation-z8 modal-content">
    <div class="modal-header">
      <div class="h5">Pending Claims</div>
    </div>
    <div class="modal-body Content">
      <div *ngFor="let claim of userClaims" (click)="userDetails(claim)">
        <div class="row">
          <div class="col-6 text-left h5">{{claim.claims.packageName}}</div>
          <div class="col-6 text-right h5" appStatusCode [status]="claim.claims.status"
            (click)="$event.stopPropagation();setClaim(claim);">{{claim.claims.status}}</div>
          <!-- (click)="setClaim(claim);$event.stopPropagation();" -->
        </div>
        <div class="row">
          <div class="col-6 text-left">
            <div style="font-size: 16px">User : {{claim.firstName}}</div>
            <div style="font-size: 16px">Phone : {{claim.phone}}</div>
            <div style="font-size: 16px">Date of Surgery : {{claim.claims.dateOfSurgery | date}}</div>
            <div style="font-size: 16px">Purpose : {{claim.claims.disease}}</div>
            <div class="pb-4" style="font-size: 16px">Hospital : {{claim.claims.hospital}}</div>
          </div>
        </div>
      </div>
      <!-- <div class="row m-0" *ngIf="!userHasClaims">
        <div class="m-1">You do not have any pending claims.</div>
      </div> -->
    </div>
  </div>

  <div class="col-lg-4 col-md-6 col-sm-12 FixedHeightContainer m-3 mat-elevation-z8 modal-content">
    <div class="modal-header">
      <div class="h5">Notifications</div>
    </div>
    <div class="modal-body Content">
      <div class="mb-2" *ngFor="let notification of notifications" (click)="notificationDetails(notification)" appNotification
        [verified]="notification.verified">
        {{notification.comments}}
      </div>
      <!-- <div class="row m-0" *ngIf="!userHasnotifications">
        <div class="mt-1"> No new notifications</div>
      </div> -->
    </div>
  </div>
</div>

<!-- IF LOGGED IN AS POC -->
<div class="row m-0" *ngIf="user.userrole == 'poc'">
  <div class="col-lg-6 col-md-6 col-sm-12 FixedHeightContainer m-3 mat-elevation-z8 modal-content">
    <div class="modal-header">
      <div class="h5">Pending Claims</div>
    </div>
    <div class="modal-body Content">
      <div *ngFor="let claim of userClaims" (click)="claimDetails(claim)">
        <div class="row">
          <div class="col-6 text-left h5">{{claim.packageName}}</div>
          <div class="col-6 text-right h5" appStatusCode [status]="claim.status"
            (click)="$event.stopPropagation();setClaim(claim);">{{claim.status}}</div>
        </div>
        <div class="row">
          <div class="col-6 text-left">
            <div style="font-size: 16px">Date of Surgery : {{claim.dateOfSurgery | date}}</div>
            <div style="font-size: 16px">Purpose : {{claim.disease}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="claim" class="modal fade" id="statusDetails" #status role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Status Details</h4>
      </div>
      <div class="modal-body text-center">
        <div class="d-flex flex-column offset-md-1 col-8">
          <div class="row">
            <div class="col-4 text-right font-weight-bold">Status</div>
            <div class="col-8 text-left">{{claim.status}}</div>
          </div>
          <div class="row">
            <div class="col-4 text-right font-weight-bold">Comments</div>
            <div class="col-8 text-left">{{claim.comments}}</div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn primary-color" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>